<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <title>JSCover - Documentation</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div class="container">
    <h1>JSCover</h1>

    <div>
        <a class="nav" href="index.html">Home</a>
        <span class="nav selected">Documentation</span>
        <a class="nav" href="examples.html">Examples</a>
        <a class="nav" href="to-do.html">To-do</a>
        <a class="nav" href="links.html">Links</a>
        <a class="nav" href="license.html">License</a>
        <a class="nav" href="https://github.com/tntim96/JSCover/downloads" target="_blank">Downloads</a>
    </div>

    <h2>General Information</h2>

    <p>
        For an overview of the basic workings of of JSCover, see the
        <a href="http://siliconforks.com/jscoverage/manual.html">JSCoverage documentation</a>.
    </p>

    <p>
        JSCover comes packaged in two JARs.
        The first option is preferred to avoid class-path issues, especially as JSCover may be using a non-standard
        version on Rhino (e.g. built from trunk).
    </p>

    <ul>
        <li><i>JSCover-all.jar</i> which includes all dependencies</li>
        <li><i>JSCover.jar</i> which must have all dependent JARs available in the same directory</li>
    </ul>

    <p>
        A log file is also produced in the output directory which should be inspected after running.
        It will contain any errors that occurred during instrumentation.
    </p>

    <p>Usage:</p>

    <div class="shell">
        java -jar JSCover-all.jar [OPTIONS]...
    </div>

    <div class="shell">
        java -jar JSCover.jar [OPTIONS]...
    </div>

    <p>Command line options are:</p>

    <table>
        <tr>
            <th>Option</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>-ws</td>
            <td>N/A</td>
            <td>Run in <b>w</b>eb <b>s</b>erver mode - see <a href="#serverMode">below</a></td>
        </tr>
        <tr>
            <td>-fs</td>
            <td>N/A</td>
            <td>Run in <b>f</b>ile <b>s</b>ystem mode - see <a href="#fileMode">below</a></td>
        </tr>
        <tr>
            <td>-h,--help</td>
            <td>N/A</td>
            <td>Display command line help</td>
        </tr>
        <tr>
            <td>-V,--version</td>
            <td>N/A</td>
            <td>Display version</td>
        </tr>
    </table>

    <h2>JSCover Server Mode<a name="serverMode"></a></h2>

    <p>JSCover currently supports these features of JSCoverage:</p>

    <ul>
        <li>Server mode with switches indicated below (i.e. JSCoverage's jscoverage-server)</li>
        <li>Storing of report data to the file system</li>
        <li>Merging of coverage data if multiple runs are stored at the same location</li>
    </ul>

    <p>The server usage is:</p>

    <div class="shell">
        java -jar JSCover.jar -ws [OPTION]...
    </div>

    <p>For example</p>

    <div class="shell">
        java -jar JSCover.jar -ws --port=80 --no-instrument=/lib --no-instrument=/test
    </div>

    <p>Command line options are:</p>
    <table>
        <tr>
            <th>Option</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>-h,--help</td>
            <td>N/A</td>
            <td>Display command line help</td>
        </tr>
        <tr>
            <td>--document-root=PATH</td>
            <td>current directory</td>
            <td>Serve web content from the directory given by PATH (can be relative or absolute)</td>
        </tr>
        <tr>
            <td>--no-instrument=URL</td>
            <td>None</td>
            <td>Specify URLs not to be instrumented. Can be specified multiple times.</td>
        </tr>
        <tr>
            <td>--report-dir=PATH</td>
            <td>current directory</td>
            <td>Use the directory given by PATH (can be relative or absolute) for storing coverage reports.</td>
        </tr>
        <tr>
            <td>--port=PORT</td>
            <td>8080</td>
            <td>Specify the port to listen on</td>
        </tr>
        <tr>
            <td>--js-version=VERSION</td>
            <td>1.5</td>
            <td>
                Use the specified JavaScript version; valid values for VERSION are
                <a href="http://en.wikipedia.org/wiki/JavaScript#Versions" target="_blank">1.0, 1.1, 1.2, ..., 1.8</a>.
            </td>
        </tr>
    </table>

    <h2>JSCover File Mode<a name="fileMode"></a></h2>

    <p>Usage is:</p>

    <div class="shell">
        java -jar JSCover.jar -fs [OPTION]... SOURCE-DIRECTORY DESTINATION-DIRECTORY
    </div>

    <p>For example</p>

    <div class="shell">
        java -jar target/dist/JSCover.jar -fs --no-instrument=/lib --no-instrument=/test src target/instrumented
    </div>

    <p>Command line options are:</p>
    <table>
        <tr>
            <th>Option</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>-h,--help</td>
            <td>N/A</td>
            <td>Display command line help</td>
        </tr>
        <tr>
            <td>--no-instrument=URL</td>
            <td>None</td>
            <td>Specify URLs not to be instrumented. Can be specified multiple times.</td>
        </tr>
        <tr>
            <td>--exclude=PATH</td>
            <td>None</td>
            <td>Use the directory given by PATH (can be relative or absolute) for storing coverage reports.</td>
        </tr>
        <tr>
            <td>--js-version=VERSION</td>
            <td>1.5</td>
            <td>
                Use the specified JavaScript version; valid values for VERSION are
                <a href="http://en.wikipedia.org/wiki/JavaScript#Versions" target="_blank">1.0, 1.1, 1.2, ..., 1.8</a>.
            </td>
        </tr>
    </table>

    <h2>JSCover Versus JSCoverage</h2>

    <p>
        The main difference in the implementation is the tools used for parsing.
        All JavaScript code is the same, and so the UI interaction is the same.
    </p>
    <table>
        <tr>
            <th>Tool</th>
            <th>Parser Language</th>
            <th>Parser Implementation</th>
        </tr>
        <tr>
            <td>JSCover</td>
            <td>Java</td>
            <td><a href="http://www.mozilla.org/rhino/">Rhino</a> 1.7R5pre</td>
        </tr>
        <tr>
            <td>JSCoverage</td>
            <td>C/C++</td>
            <td><a href="https://developer.mozilla.org/en/SpiderMonkey">SpiderMonkey</a></td>
        </tr>
    </table>
    <p>
        As SpiderMonkey is used in FireFox which is used for much development and testing of web-based JavaScript, it is
        arguably the best JavaScript implementation currently available.
    </p>

    <p>&nbsp;</p>

</div>
</body>
</html>
